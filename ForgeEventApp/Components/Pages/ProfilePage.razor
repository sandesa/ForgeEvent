@page "/profilepage{id}"
@inject HttpClient httpClient
@using System.Text.Json
@using ForgeEventApp.Models 
<h3>ProfilePage</h3>

<dl class="row">
    <dt class="col-sm-2">Name</dt>
    <dd class="col-sm-10">@profile.FirstName @profile.LastName</dd>
    <dt class="col-sm-2">Email</dt>
    <dd class="col-sm-10">@profile.Email</dd>
    <dt class="col-sm-2">Phonenumber</dt>
    <dd class="col-sm-10">@profile.PhoneNumber</dd>
</dl>


@code {
    //IEnumerable<User> profile;
    private User profile;
    private int userId;
    [Parameter]
    public string Id { get; set; }


    protected override async Task OnInitializedAsync()
    {
        if(int.TryParse(Id, out userId))
        {
            var response = await httpClient.GetAsync($"api/profilepage/{userId}");
            profile = await response.Content.ReadFromJsonAsync<User>();
        }   
       

    }
}
